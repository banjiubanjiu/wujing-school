# 二、技术选型建议

| 层级 / 模块                 | 技术选型                                                     | 说明 / 理由                                                  |
| --------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **后端语言**                | Python 3.11+                                                 | 你熟悉；配合 AI 编程效率高；生态对 AI、数据处理友好          |
| **后端框架**                | FastAPI                                                      | 高性能、异步、自动生成 OpenAPI 文档，方便前端与 AI 工具对接  |
| **后端结构**                | 模块化单体（按领域模块拆分）                                 | students / teaching / training / psy / dashboard / ai 等独立模块，便于后期扩展和重构 |
| **ORM & 数据访问**          | SQLAlchemy 2.x                                               | 成熟 ORM，支持复杂查询和关系建模                             |
| **数据迁移**                | Alembic                                                      | 管理数据库 schema 版本，支持回滚与升级                       |
| **数据校验 / 配置**         | Pydantic v2                                                  | 请求/响应模型与配置管理，类型清晰，AI 易理解                 |
| **鉴权方式**                | JWT（HttpOnly Cookie）                                       | 统一登录与会话管理，支持多端接入，安全性较高                 |
| **权限控制**                | 自定义 RBAC（可选 Casbin）                                   | 角色/权限/数据范围控制，适配教务/警校复杂权限                |
| **数据库**                  | PostgreSQL 14+                                               | 关系型 + JSONB + 全文检索，适合教务/统计/报表场景            |
| **缓存 & 队列**             | Redis                                                        | 登录态（可选）、验证码、热点数据、异步任务队列等             |
| **文件存储（MVP）**         | 本地磁盘 + Nginx 静态目录                                    | 简单可行，后续可迁移到对象存储                               |
| **文件存储（后期）**        | MinIO / 云厂商 OSS                                           | 存储教案、作业、数字人视频等大文件，便于扩展                 |
| **异步任务**                | Celery / RQ（基于 Redis）                                    | 批量导入导出、统计报表生成、数字人视频生成任务等             |
| **API 风格**                | REST（预留 gRPC/GraphQL 可能）                               | 便于前端和第三方系统接入，后期可加网关支持其他协议           |
| **前端框架**                | React 18 + TypeScript                                        | 现代主流栈，AI 对其支持非常好，类型安全、可维护性高          |
| **构建工具**                | Vite                                                         | 启动/构建速度快，配置简洁，适合中大型项目                    |
| **路由**                    | React Router                                                 | 多角色门户（学员/教师/管理/领导驾驶舱）路由控制              |
| **UI 组件库**               | Ant Design（React）                                          | 中后台场景成熟方案，表格/表单/布局组件丰富                   |
| **可视化图表**              | ECharts                                                      | 成绩分布、训练统计、驾驶舱大屏等数据可视化                   |
| **HTTP 客户端**             | Axios（统一封装）                                            | 拦截器统一处理 token、错误、Loading、重定向等                |
| **服务器状态管理**          | TanStack Query（React Query）                                | 负责接口数据的获取、缓存、重试、刷新等                       |
| **本地全局状态**            | Zustand                                                      | 轻量管理用户信息、角色、菜单、布局配置等                     |
| **样式方案**                | Ant Design 主题 token + 少量自定义 CSS（可选 Tailwind 做布局） | 先以 Antd 主题为主，减少复杂度，后续可引入 Tailwind 做布局与间距 |
| **布局与模板**              | 自定义基础布局（顶部导航 + 侧边菜单 + 内容区）               | 统一管理端/学员端布局，配合路由与权限渲染                    |
| **AI 服务层语言**           | Python 3.11+                                                 | 利用 Python 在 AI/NLP 生态上的优势                           |
| **AI 服务框架**             | FastAPI（独立服务）                                          | 将 LLM、向量检索、NL2SQL 封装成独立 API 服务                 |
| **LLM 对接**                | Qwen / OpenAI / 其他厂商 SDK                                 | 统一封装为 `LLMClient`，便于切换与扩展                       |
| **检索 & 向量存储（可选）** | FAISS / 向量数据库（Milvus / PgVector 等）                   | 支持教务文档、制度条例、教材的检索增强问答                   |
| **自然语言查询**            | NL → SQL / NL → 报表参数（在 AI 服务层实现）                 | 学员/领导自然语言查询成绩、训练数据等                        |
| **数字人集成**              | 第三方数字人平台 API                                         | 系统负责脚本/任务管理与播放，降低自研难度                    |
| **网关 & 静态资源**         | Nginx                                                        | 反向代理、SSL 终止、静态文件服务、负载均衡                   |
| **部署方式（MVP）**         | Docker Compose                                               | 快速部署：后端、前端、AI 服务、Postgres、Redis、Nginx        |
| **后期部署（可选）**        | Kubernetes                                                   | 用户规模扩大后支持弹性扩缩容与服务治理                       |
|                             |                                                              |                                                              |